{"version":3,"file":"src_app_pages_home_home_module_ts.js","mappings":"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","sources":["./src/app/pages/home/home-routing.module.ts","./src/app/pages/home/home.module.ts","./src/app/pages/home/home.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { Component, ElementRef, Input, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ModalController, PopoverController } from '@ionic/angular';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { PopoverComponent } from '../../component/popover/popover.component';\nimport { CartModalPage } from '../cart-modal/cart-modal.page';\nimport { CartService,  } from '../../services/cart.service';\nimport { Product } from 'src/app/models/product';\nimport { map } from 'rxjs/operators';\nimport { AuthserviceService } from 'src/app/services/authservice.service';\n//import { Component, ViewChild } from '@angular/core';\n\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n\n\n\n \n  cart= [];\n  data$:Observable <Product[]>;\n\n // cart= [];\n  products$:Observable <Product[]>;\n  products:Product[];\n  toplimit: number= 15;\n  logoutmessage: BehaviorSubject<String>;\n  cartItemCount: BehaviorSubject<number>;\n  @ViewChild('cart',{static: false, read: ElementRef})fab: ElementRef;\n  @ViewChild('popover') popover;\n  isOpen= false;\n  roleMsg:any;\n\n\n\n  constructor(private cartService: CartService,private modalCtrl: ModalController, public popoverController: PopoverController,private router: Router,private authService: AuthserviceService) { \n\n    \n\n\n  }\n\nngOnInit(){\n  \n  this.cart= this.cartService.getCart();\n  this.cartItemCount= this.cartService.getCartItemCount();\n\n  /* this.products$= this.cartService.getAllProducts();\n  this.data$= this.cartService.getAllProducts(); */\n   this.products$= this.cartService.getAllProducts();\n   this.products$.subscribe(value=>\n    {\n      this.products=value.slice(0,this.toplimit);\n      console.log(this.products)\n    }\n    )\n  \n}\n\n\nloadData(event) {\n  setTimeout(() => {\n    this.products$.subscribe(value=>\n      {\n        this.toplimit+=10;\n        this.products= value.slice(0,this.toplimit);\n        event.target.complete();\n        if (this.products.length === value.length) {\n          event.target.disabled = true;\n        }\n\n      }\n\n       )\n   \n  }, 250);\n\n}\n\n\n\naddToCart(product){\n  this.cartService.addProduct(product);\n  this.animateCSS('tada');\n  console.log(product);\n  console.log(this.cart);\n}\n\npresentPopoversimple(e:Event){\n  this.popover.event=e;\n  this.isOpen=true;\n}\n\n async presentPopover(e: Event){\nconst popover= await this.popoverController.create({\n  component: PopoverComponent,\n  event: e,\n});\n\nawait popover.present();\nconst { role} = await popover.onDidDismiss();\nthis.roleMsg = `Popover dismissed with role: ${role}`;\n\n }\n \n\ngetColor(country){(2)\n\n  switch (country) {\n    case 'France':\n      return 'green';\n\n    case 'italie':\n      return 'blue';\n\n    case 'cuba':\n      return 'red';\n\n    case 'canada':\n      return 'yellow';  \n  }\n\n}\n\nasync openCart(){\n  this.animateCSS('bounceOutLeft', true);\n\n  let modal= await this.modalCtrl.create({\n    component:CartModalPage,\n    cssClass: 'cart-modal'\n  });\n\n  modal.onWillDismiss().then(()=>\n  {\n    this.fab.nativeElement.classList.remove('animated','bounceOutLeft')\n    this.animateCSS('bounceInLeft')\n  });\n\n  modal.present();\n}\n \nanimateCSS(animationName, keepAnimated = false) {\n  const node = this.fab.nativeElement;\n  node.classList.add('animated', animationName)\n\n  //https://github.com/daneden/animate.css\n  function handleAnimationEnd() {\n    if (!keepAnimated) {\n      node.classList.remove('animated', animationName);\n    }\n    node.removeEventListener('animationend', handleAnimationEnd)\n  }\n  node.addEventListener('animationend', handleAnimationEnd)\n}\n\n\n viewItem(id){\n\n  this.router.navigateByUrl(`home/${id}`);\n} \n\nfilterpizza(event){\nconst query= event.target.value.toLowerCase();\nthis.products$= this.data$.pipe(\n  map(products=>\n      products.filter(product=>\n        product.name.toLowerCase().indexOf(query)>-1\n        )\n\n    \n  \n    \n    )\n)\n\n   \n}\n\n\n\n\n\n}\n\n\n\n\n\n\n\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}